<!doctype html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<link rel="icon" type="image/svg+xml" href="/vite.svg" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Memorize poems</title>
</head>

<body>
	<div id="app">
		<div class="top-icons">
			<button id="menuButton" class="icon-button" title="Saved poems">☰</button>
			<button id="helpButton" class="icon-button" title="Help">?</button>
		</div>
		<div id="savedPoemsMenu" class="side-menu">
			<div class="menu-header">
				<h3>Saved Poems</h3>
				<button id="closeMenuButton" class="close-button">×</button>
			</div>
			<div id="savedPoemsList" class="saved-poems-list"></div>
		</div>
		<div id="helpPopup" class="popup-overlay">
			<div class="popup-content">
				<button id="closeHelpButton" class="close-button">×</button>
				<h2>Usage</h2>
				<ul>
					<li>👉 Enter poem</li>
					<li>🖨️ Print page</li>
					<li>📄 Fold page, separating lines from hints</li>
					<li>🚶 Go for walk</li>
					<li>🪵 Sit on stump</li>
					<li>📖 Read poem</li>
					<li>🐦 Look at bird</li>
					<li>🚶‍♂️ Walk more</li>
					<li>🤔 Try to recall the poem</li>
					<li>❌ Fail</li>
					<li>🔍 Use the letters as hints</li>
					<li>❌ Fail</li>
					<li>🔄 Flip page, see words</li>
					<li>💡 Ah, that's what it was</li>
					<li>☁️ Let the line float in the air</li>
					<li>🐦 Look at bird</li>
					<li>🚶 Keep walking</li>
				</ul>
			</div>
		</div>
		<h1>Memorize poems</h1>
		<div class="layout-container">
			<div class="form-panel">
				<form id="poemForm">
					<div class="form-group">
						<label for="titleInput">Title (optional):</label>
						<input type="text" id="titleInput" name="title" placeholder="Enter poem title..." />
					</div>
					<div class="form-group">
						<label for="poemInput">Enter your poem:</label>
						<textarea id="poemInput" name="poem" rows="15" placeholder="Type or paste your poem here..."
							required></textarea>
					</div>
					<div class="form-group">
						<p style="font-size: 0.85em; color: #888; margin: 0.5rem 0;">⚠️ Preview isn't perfect. Fiddle with font scale.</p>
						<label for="fontScale">Font scale:</label>
						<div class="scale-controls">
							<input type="range" id="fontScale" name="fontScale" min="60" max="150" value="100" step="5" />
							<input type="number" id="fontScaleNumber" min="60" max="150" value="100" step="5" />
							<span>%</span>
						</div>
					</div>
					<div class="button-group">
						<button type="button" id="saveButton">Save poem</button>
						<button type="button" id="ankiClozeButton">Copy to Anki cloze</button>
						<button type="button" id="printButton">Print</button>
					</div>
				</form>
			</div>
			<div class="preview-panel">
				<div class="content-info" id="contentInfo"></div>
				<div class="page-preview" id="printable">
					<div class="page-break-indicator">
						<span class="page-break-label">Page break</span>
					</div>
					<h2 id="poemTitle" style="display:none;"></h2>
					<div id="poemGrid"></div>
				</div>
			</div>
		</div>
	</div>
	<script type="module" src="/src/main.ts"></script>
</body>

</html>